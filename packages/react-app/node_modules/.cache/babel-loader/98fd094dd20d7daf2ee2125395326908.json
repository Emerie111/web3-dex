{"ast":null,"code":"export function subscribeToProviderEvents(provider, onUpdate, onDisconnect, onChainChanged) {\n  if (provider === null || provider === void 0 ? void 0 : provider.on) {\n    var onConnectListener = function onConnectListener(info) {\n      if (info === null || info === void 0 ? void 0 : info.chainId) {\n        onUpdate({\n          chainId: Number(info.chainId)\n        });\n      }\n    };\n\n    provider.on('connect', onConnectListener);\n\n    var onDisconnectListener = function onDisconnectListener(error) {\n      onDisconnect(new Error(error));\n    };\n\n    provider.on('disconnect', onDisconnectListener);\n\n    var onChainChangedListener = function onChainChangedListener(chainId) {\n      onChainChanged === null || onChainChanged === void 0 ? void 0 : onChainChanged(Number(chainId));\n      onUpdate({\n        chainId: Number(chainId)\n      });\n    };\n\n    provider.on('chainChanged', onChainChangedListener);\n\n    var onAccountsChangedListener = function onAccountsChangedListener(accounts) {\n      onUpdate({\n        accounts: accounts\n      });\n    };\n\n    provider.on('accountsChanged', onAccountsChangedListener);\n    return function () {\n      provider.removeListener('connect', onConnectListener);\n      provider.removeListener('disconnect', onDisconnectListener);\n      provider.removeListener('chainChanged', onChainChangedListener);\n      provider.removeListener('accountsChanged', onAccountsChangedListener);\n    };\n  }\n\n  return function () {\n    return undefined;\n  };\n}","map":{"version":3,"sources":["../../../../src/helpers/eip1193.ts"],"names":[],"mappings":"AAGA,OAAM,SAAU,yBAAV,CACJ,QADI,EAEJ,QAFI,EAGJ,YAHI,EAIJ,cAJI,EAIyC;EAE7C,IAAI,QAAQ,KAAA,IAAR,IAAA,QAAQ,KAAA,KAAA,CAAR,GAAQ,KAAA,CAAR,GAAA,QAAQ,CAAE,EAAd,EAAkB;IAChB,IAAM,iBAAiB,GAAG,SAApB,iBAAoB,CAAC,IAAD,EAAgD;MACxE,IAAI,IAAI,KAAA,IAAJ,IAAA,IAAI,KAAA,KAAA,CAAJ,GAAI,KAAA,CAAJ,GAAA,IAAI,CAAE,OAAV,EAAmB;QACjB,QAAQ,CAAC;UAAE,OAAO,EAAE,MAAM,CAAC,IAAI,CAAC,OAAN;QAAjB,CAAD,CAAR;MACD;IACF,CAJD;;IAKA,QAAQ,CAAC,EAAT,CAAY,SAAZ,EAAuB,iBAAvB;;IAEA,IAAM,oBAAoB,GAAG,SAAvB,oBAAuB,CAAC,KAAD,EAAqB;MAChD,YAAY,CAAC,IAAI,KAAJ,CAAU,KAAV,CAAD,CAAZ;IACD,CAFD;;IAGA,QAAQ,CAAC,EAAT,CAAY,YAAZ,EAA0B,oBAA1B;;IAEA,IAAM,sBAAsB,GAAG,SAAzB,sBAAyB,CAAC,OAAD,EAA0B;MACvD,cAAc,KAAA,IAAd,IAAA,cAAc,KAAA,KAAA,CAAd,GAAc,KAAA,CAAd,GAAA,cAAc,CAAG,MAAM,CAAC,OAAD,CAAT,CAAd;MACA,QAAQ,CAAC;QAAE,OAAO,EAAE,MAAM,CAAC,OAAD;MAAjB,CAAD,CAAR;IACD,CAHD;;IAIA,QAAQ,CAAC,EAAT,CAAY,cAAZ,EAA4B,sBAA5B;;IAEA,IAAM,yBAAyB,GAAG,SAA5B,yBAA4B,CAAC,QAAD,EAA6B;MAC7D,QAAQ,CAAC;QAAE,QAAQ,EAAR;MAAF,CAAD,CAAR;IACD,CAFD;;IAGA,QAAQ,CAAC,EAAT,CAAY,iBAAZ,EAA+B,yBAA/B;IAEA,OAAO,YAAK;MACV,QAAQ,CAAC,cAAT,CAAwB,SAAxB,EAAmC,iBAAnC;MACA,QAAQ,CAAC,cAAT,CAAwB,YAAxB,EAAsC,oBAAtC;MACA,QAAQ,CAAC,cAAT,CAAwB,cAAxB,EAAwC,sBAAxC;MACA,QAAQ,CAAC,cAAT,CAAwB,iBAAxB,EAA2C,yBAA3C;IACD,CALD;EAMD;;EAED,OAAO;IAAA,OAAM,SAAN;EAAA,CAAP;AACD","sourceRoot":"","sourcesContent":["export function subscribeToProviderEvents(provider, onUpdate, onDisconnect, onChainChanged) {\n    if (provider === null || provider === void 0 ? void 0 : provider.on) {\n        const onConnectListener = (info) => {\n            if (info === null || info === void 0 ? void 0 : info.chainId) {\n                onUpdate({ chainId: Number(info.chainId) });\n            }\n        };\n        provider.on('connect', onConnectListener);\n        const onDisconnectListener = (error) => {\n            onDisconnect(new Error(error));\n        };\n        provider.on('disconnect', onDisconnectListener);\n        const onChainChangedListener = (chainId) => {\n            onChainChanged === null || onChainChanged === void 0 ? void 0 : onChainChanged(Number(chainId));\n            onUpdate({ chainId: Number(chainId) });\n        };\n        provider.on('chainChanged', onChainChangedListener);\n        const onAccountsChangedListener = (accounts) => {\n            onUpdate({ accounts });\n        };\n        provider.on('accountsChanged', onAccountsChangedListener);\n        return () => {\n            provider.removeListener('connect', onConnectListener);\n            provider.removeListener('disconnect', onDisconnectListener);\n            provider.removeListener('chainChanged', onChainChangedListener);\n            provider.removeListener('accountsChanged', onAccountsChangedListener);\n        };\n    }\n    return () => undefined;\n}\n//# sourceMappingURL=eip1193.js.map"]},"metadata":{},"sourceType":"module"}