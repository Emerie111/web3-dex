{"ast":null,"code":"export function subscribeToNewBlock(provider, chainId, dispatch, isActive) {\n  if (provider && chainId !== undefined && isActive) {\n    var update = function update(blockNumber) {\n      return dispatch({\n        chainId: chainId,\n        blockNumber: blockNumber\n      });\n    };\n\n    provider.on('block', update);\n    provider.getBlockNumber().then(function (blockNumber) {\n      return update(blockNumber);\n    }, function (err) {\n      console.error(err);\n    });\n    return function () {\n      provider.off('block', update);\n    };\n  }\n\n  return function () {\n    return undefined;\n  };\n}","map":{"version":3,"sources":["../../../../../../src/providers/blockNumber/common/subscribeToNewBlock.ts"],"names":[],"mappings":"AAKA,OAAM,SAAU,mBAAV,CACJ,QADI,EAEJ,OAFI,EAGJ,QAHI,EAIJ,QAJI,EAIa;EAEjB,IAAI,QAAQ,IAAI,OAAO,KAAK,SAAxB,IAAqC,QAAzC,EAAmD;IACjD,IAAM,MAAM,GAAG,SAAT,MAAS,CAAC,WAAD;MAAA,OAAyB,QAAQ,CAAC;QAAE,OAAO,EAAP,OAAF;QAAW,WAAW,EAAX;MAAX,CAAD,CAAjC;IAAA,CAAf;;IACA,QAAQ,CAAC,EAAT,CAAY,OAAZ,EAAqB,MAArB;IAEA,QAAQ,CAAC,cAAT,GAA0B,IAA1B,CACE,UAAC,WAAD;MAAA,OAAiB,MAAM,CAAC,WAAD,CAAvB;IAAA,CADF,EAEE,UAAC,GAAD,EAAQ;MACN,OAAO,CAAC,KAAR,CAAc,GAAd;IACD,CAJH;IAOA,OAAO,YAAK;MACV,QAAQ,CAAC,GAAT,CAAa,OAAb,EAAsB,MAAtB;IACD,CAFD;EAGD;;EAED,OAAO;IAAA,OAAM,SAAN;EAAA,CAAP;AACD","sourceRoot":"","sourcesContent":["export function subscribeToNewBlock(provider, chainId, dispatch, isActive) {\n    if (provider && chainId !== undefined && isActive) {\n        const update = (blockNumber) => dispatch({ chainId, blockNumber });\n        provider.on('block', update);\n        provider.getBlockNumber().then((blockNumber) => update(blockNumber), (err) => {\n            console.error(err);\n        });\n        return () => {\n            provider.off('block', update);\n        };\n    }\n    return () => undefined;\n}\n//# sourceMappingURL=subscribeToNewBlock.js.map"]},"metadata":{},"sourceType":"module"}