{"version":3,"sources":["styles/index.js","config.js","../../contracts/src/abis.js","../../contracts/src/addresses.js","utils/getPairsInfo.js","utils/getFactoryInfo.js","utils/getRouterInfo.js","utils/helpers.js","hooks/usePools.js","assets/chevron-down.svg","assets/ethereumLogo.png","assets/uniswapLogo.png","components/Loader.js","components/AmountIn.js","components/AmountOut.js","components/Balance.js","components/Exchange.js","components/WalletButton.js","App.js","index.js"],"names":["styles","container","innerContainer","header","exchangeContainer","headTitle","subTitle","exchangeBoxWrapper","exchangeBox","exchange","amountContainer","amountInput","currencyButton","currencyList","currencyListItem","actionButton","message","walletButton","loader","loaderImg","loaderText","balance","balanceText","balanceBold","ROUTER_ADDRESS","DAPP_CONFIG","readOnlyChainId","Goerli","chainId","readOnlyUrls","erc20","factory","pair","router01","router02","commonContracts","pairs","tokens","DAI","WETH","AMPL","BAT","COMP","LEND","LINK","MKR","USDC","USDT","wBTC","getPairsInfo","pairAddresses","web3","pairsInfo","pairABI","abis","tokenABI","abi","i","length","pairAddress","eth","Contract","methods","token0","call","token0Address","token1","token1Address","token0Contract","token1Contract","name","token0Name","token1Name","push","address","getFactoryInfo","factoryAddress","feeTo","feeToSetter","allPairsLength","factoryInfo","allPairs","getRouterInfo","routerAddress","router","isOperationPending","operationState","status","isOperationFailed","isOperationSucceeded","useOnClickOutside","ref","handler","useEffect","listener","event","current","contains","target","document","addEventListener","removeEventListener","loadPools","providerUrl","provider","Web3","providers","HttpProvider","routerInfo","Loader","title","className","src","ethereumLogo","alt","AmountIn","value","onChange","currencyValue","onSelect","currencies","isSwapping","useState","showList","setShowList","activeCurrency","setActiveCurrency","useRef","Object","keys","includes","placeholder","type","disabled","e","onClick","chevronDown","entries","map","index","token","tokenName","AmountOut","fromToken","toToken","amountIn","pairContract","amountOut","isValidAmountIn","gt","parseUnits","areParamsValid","useCall","contract","method","args","error","amounts","useAmountsOut","formatUnits","Balance","tokenBalance","Exchange","pools","account","useEthers","fromValue","setFromValue","setFromToken","setToToken","resetState","setResetState","fromValueBigNumber","availableTokens","reduce","prev","curr","getAvailableTokens","counterpartTokens","filter","cur","getCounterpartTokens","Array","isArray","find","findPoolByTokens","routerContract","fromTokenContract","ERC20","fromTokenBalance","useTokenBalance","toTokenBalance","tokenAllowance","useTokenAllowance","approvedNeeded","formValueIsGreaterThan0","hasEnoughBalance","lte","useContractFunction","transactionName","gasLimitBufferPercentage","swapApproveState","state","swapApproveSend","send","swapExecuteState","swapExecuteSend","isApproving","canApprove","canSwap","successMessage","getSuccessMessage","failureMessage","errorMessage","getFailureMessage","setTimeout","trimmedValue","trim","ethers","constants","MaxUint256","Math","floor","Date","now","then","_","WalletButton","rendered","setRendered","ens","useLookupAddress","activateBrowserWallet","deactivate","shortenAddress","App","useConfig","loading","setLoading","setPools","usePools","poolsLoading","uniswapLogo","ReactDOM","render","StrictMode","DAppProvider","config","getElementById"],"mappings":"m9uCAiDeA,EAjDA,CAEbC,UAAW,+DACXC,eACE,mEACFC,OAAQ,kEACRC,kBACE,+DACFC,UAAW,4DACXC,SAAU,yDACVC,mBAAoB,mCACpBC,YACE,uGACFC,SACE,2FAGFC,gBACE,yKACFC,YACE,wFACFC,eACE,iGACFC,aACE,yHACFC,iBACE,iHAGFC,aACE,2HACFC,QAAS,iDAGTC,aACE,wJAGFC,OAAQ,8DACRC,UAAW,2BACXC,WACE,oEAGFC,QAAS,6BACTC,YAAa,0CACbC,YAAa,4B,2DC5CFC,EAAiB,6CAEjBC,EAAc,CACzBC,gBAAiBC,IAAOC,QACxBC,aAAa,eACVF,IAAOC,QAAU,yECDP,GACbE,M,OACAC,Q,OACAC,K,OACAC,S,OACAC,S,iBCDIC,EAAkB,CACtBJ,QAAS,6CACTE,SAAU,6CACVC,SAAU,8CAGZ,mBAZyB,EAYzB,aAEIE,MAAO,CACL,WAAY,8CAEdC,OAAQ,CACNC,IAAK,6CACLC,KAAM,+CAELJ,IATP,cAXwB,GAWxB,aAYIC,MAAO,CACL,WAAY,8CAEdC,OAAQ,CACNC,IAAK,6CACLC,KAAM,+CAELJ,IAnBP,cAV0B,EAU1B,aAsBIC,MAAO,CACL,WAAY,6CACZ,YAAa,6CACb,WAAY,6CACZ,YAAa,6CACb,YAAa,6CACb,WAAY,6CACZ,YAAa,6CACb,YAAa,6CACb,YAAa,6CACb,YAAa,8CAEfC,OAAQ,CACNG,KAAM,6CACNC,IAAK,6CACLC,KAAM,6CACNJ,IAAK,6CACLK,KAAM,6CACNC,KAAM,6CACNC,IAAK,6CACLC,KAAM,6CACNC,KAAM,6CACNC,KAAM,6CACNT,KAAM,+CAELJ,IA/CP,cAT0B,EAS1B,aAkDIC,MAAO,CACL,WAAY,8CAEdC,OAAQ,CACNC,IAAK,6CACLC,KAAM,+CAELJ,IAzDP,cAR0B,EAQ1B,aA4DIC,MAAO,CACL,WAAY,8CAEdC,OAAQ,CACNC,IAAK,6CACLC,KAAM,+CAELJ,ICjFA,SAAec,EAAtB,oC,sDAAO,WAA4BC,EAAeC,GAA3C,uGACCC,EAAY,GACZC,EAAUC,EAAKtB,KACfuB,EAAWD,EAAKxB,MAAM0B,IAEnBC,EAAI,EALR,YAKWA,EAAIP,EAAcQ,QAL7B,wBAMGC,EAAcT,EAAcO,GAC5BzB,EAAO,IAAImB,EAAKS,IAAIC,SAASR,EAASH,EAAcO,IAPvD,SASyBzB,EAAK8B,QAAQC,SAASC,OAT/C,cASGC,EATH,iBAUyBjC,EAAK8B,QAAQI,SAASF,OAV/C,eAUGG,EAVH,OAWGC,EAAiB,IAAIjB,EAAKS,IAAIC,SAASN,EAAUU,GACjDI,EAAiB,IAAIlB,EAAKS,IAAIC,SAASN,EAAUY,GAZpD,UAasBC,EAAeN,QAAQQ,OAAON,OAbpD,eAaGO,EAbH,iBAcsBF,EAAeP,QAAQQ,OAAON,OAdpD,QAcGQ,EAdH,OAgBHpB,EAAUqB,KAAK,CACbC,QAASf,EACTM,gBACAE,gBACAI,aACAC,eArBC,UAKuCf,EALvC,gDAyBEL,GAzBF,6C,sBCCA,IAAMuB,EAAc,iDAAG,WAAOC,EAAgBzB,GAAvB,4FACtBpB,EAAU,IAAIoB,EAAKS,IAAIC,SAASP,EAAKvB,QAAS6C,GADxB,SAIb7C,EAAQ+B,QAAQe,QAAQb,OAJX,mCAKPjC,EAAQ+B,QAAQgB,cAAcd,OALvB,mCAMJjC,EAAQ+B,QAAQiB,iBAAiBf,OAN7B,wBAOhB,GAJNgB,EAHsB,CAI1BH,MAJ0B,KAK1BC,YAL0B,KAM1BC,eAN0B,KAO1BE,SAP0B,MAUnBxB,EAAI,EAVe,aAUZA,EAAIuB,EAAYD,gBAVJ,kCAWMhD,EAAQ+B,QAAQmB,SAASxB,GAAGO,OAXlC,QAW1BgB,EAAYC,SAASxB,GAXK,eAUoBA,IAVpB,yCAcER,EAAa+B,EAAYC,SAAU9B,GAdrC,eAc5B6B,EAAY5B,UAdgB,yBAgBrB4B,GAhBqB,4CAAH,wDCDdE,EAAa,iDAAG,WAAOC,EAAehC,GAAtB,wFACrBiC,EAAS,IAAIjC,EAAKS,IAAIC,SAASP,EAAKpB,SAAUiD,GADzB,SAIVC,EAAOtB,QAAQ/B,UAAUiC,OAJf,6CAIzBjC,QAJyB,kDAAH,wD,yBCmCbsD,EAAqB,SAACC,GAAD,MACN,qBAA1BA,EAAeC,QAA2D,WAA1BD,EAAeC,MAD/B,EAErBC,EAAoB,SAACF,GAAD,MACP,SAA1BA,EAAeC,QAA+C,cAA1BD,EAAeC,MADlB,EAEpBE,EAAuB,SAACH,GAAD,MACV,YAA1BA,EAAeC,MADqB,EAkDvBG,EAAoB,SAACC,EAAKC,GACrCC,qBAAU,WACR,IAAMC,EAAW,SAACC,GAEXJ,EAAIK,UAAWL,EAAIK,QAAQC,SAASF,EAAMG,SAG/CN,EAAQG,EACT,EAKD,OAHAI,SAASC,iBAAiB,YAAaN,GACvCK,SAASC,iBAAiB,aAAcN,GAEjC,WACLK,SAASE,oBAAoB,YAAaP,GAC1CK,SAASE,oBAAoB,aAAcP,EAC5C,CACF,GAAE,CAACH,EAAKC,GACV,ECtGYU,EAAS,iDAAG,WAAOC,GAAP,8FACjBC,EAAW,IAAIC,IAAKC,UAAUC,aAAaJ,GAC3CpD,EAAO,IAAIsD,IAAKD,GAFC,SAGEtB,EAAc1D,EAAgB2B,GAHhC,cAGjByD,EAHiB,gBAIGjC,EAAeiC,EAAW7E,QAASoB,GAJtC,cAIjB6B,EAJiB,yBAKhBA,EAAY5B,WALI,2CAAH,sDCPP,MAA0B,yCCA1B,MAA0B,yCCA1B,MAA0B,wC,OCkB1ByD,EAbA,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAChB,OACE,sBAAKC,UAAW/G,EAAOkB,OAAvB,UACE,qBACE8F,IAAKC,EACLC,IAAI,gBACJH,UAAW/G,EAAOmB,YAEpB,mBAAG4F,UAAW/G,EAAOoB,WAArB,SAAkC0F,MAGvC,E,4CCkDcK,EA5DE,SAAC,GAA0E,IAAxEC,EAAuE,EAAvEA,MAAOC,EAAgE,EAAhEA,SAAUC,EAAsD,EAAtDA,cAAeC,EAAuC,EAAvCA,SAAUC,EAA6B,EAA7BA,WAAYC,EAAiB,EAAjBA,WACxE,EAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA4CF,mBAAS,UAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACMnC,EAAMoC,mBAUZ,OARArC,EAAkBC,GAAK,kBAAMiC,GAAY,EAAlB,IAEvB/B,qBAAU,WACJmC,OAAOC,KAAKT,GAAYU,SAASZ,GACnCQ,EAAkBN,EAAWF,IAC1BQ,EAAkB,SACxB,GAAE,CAACN,EAAYF,IAGd,sBAAKP,UAAW/G,EAAOU,gBAAvB,UACE,uBACEyH,YAAY,MACZC,KAAK,SACLhB,MAAOA,EACPiB,SAAUZ,EACVJ,SAAU,SAACiB,GAAD,MAA2B,oBAAbjB,GAA2BA,EAASiB,EAAEpC,OAAOkB,MAA3D,EACVL,UAAW/G,EAAOW,cAGpB,sBAAKoG,UAAU,WAAWwB,QAAS,kBAAMX,GAAaD,EAAnB,EAAnC,UACE,yBAAQZ,UAAW/G,EAAOY,eAA1B,UACGiH,EACD,qBACEb,IAAKwB,EACLtB,IAAI,gBACJH,UAAS,sCACPY,EAAW,aAAe,iBAK/BA,GACC,oBAAIhC,IAAKA,EAAKoB,UAAW/G,EAAOa,aAAhC,SACGmH,OAAOS,QAAQjB,GAAYkB,KAAI,WAAqBC,GAArB,uBAAEC,EAAF,KAASC,EAAT,YAC9B,oBAEE9B,UAAS,UAAK/G,EAAOc,iBAAZ,YACP+G,IAAmBgB,EAAY,eAAiB,GADzC,mBAGTN,QAAS,WACiB,oBAAbhB,GAAyBA,EAASqB,GAC7Cd,EAAkBe,GAClBjB,GAAY,EACb,EATH,SAWGiB,GAVIF,EAFuB,WAoB3C,ECEcG,EA3DG,SAAC,GAAyF,IAAD,EAAtFC,EAAsF,EAAtFA,UAAWC,EAA2E,EAA3EA,QAASC,EAAkE,EAAlEA,SAAUC,EAAwD,EAAxDA,aAAc5B,EAA0C,EAA1CA,cAAeC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,WACxF,EAAgCE,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA4CF,mBAAS,UAArD,mBAAOG,EAAP,KAAuBC,EAAvB,KACMnC,EAAMoC,mBAENoB,EAAS,UPgEY,SAACxF,EAAasF,EAAUF,EAAWC,GAAa,IAAD,EACpEI,EAAkBH,EAASI,GAAGC,qBAAW,MACzCC,KAAoB5F,GAAeyF,GAAmBL,GAAaC,GAEzE,YACEQ,YACED,GAAkB,CAChBE,SAAU,IAAI5F,IAASrC,EAAgB8B,EAAKpB,UAC5CwH,OAAQ,gBACRC,KAAM,CAACV,EAAU,CAACF,EAAWC,aALnC,QAOO,CAAC,EAPAY,EAAR,EAAQA,MAAOxC,EAAf,EAAeA,MAQf,OAAOwC,EAAQN,qBAAW,KAAd,OAAqBlC,QAArB,IAAqBA,OAArB,EAAqBA,EAAOyC,QAAQ,EACjD,CO7EmBC,CAAcZ,EAAcD,EAAUF,EAAWC,UAApD,QAAgE,EAY/E,OAVAtD,EAAkBC,GAAK,kBAAMiC,GAAY,EAAlB,IAEvB/B,qBAAU,WACJmC,OAAOC,KAAKT,GAAYU,SAASZ,GACnCQ,EAAkBN,EAAWF,IAE7BQ,EAAkB,SAErB,GAAE,CAACR,EAAeE,IAGjB,sBAAKT,UAAW/G,EAAOU,gBAAvB,UACE,uBACEyH,YAAY,MACZC,KAAK,SACLhB,MAAO2C,sBAAYZ,GACnBpC,UAAW/G,EAAOW,YAClB0H,UAAQ,IAGV,sBAAKtB,UAAU,WAAWwB,QAAS,kBAAMX,GAAaD,EAAnB,EAAnC,UACE,yBAAQZ,UAAW/G,EAAOY,eAA1B,UACGiH,EACD,qBACEb,IAAKwB,EACLtB,IAAI,gBACJH,UAAS,sCAAiCY,EAAW,aAAe,iBAIvEA,GACC,oBAAIhC,IAAKA,EAAKoB,UAAW/G,EAAOa,aAAhC,SACGmH,OAAOS,QAAQjB,GAAYkB,KAAI,WAAqBC,GAArB,uBAAEC,EAAF,KAASC,EAAT,YAC9B,oBAEE9B,UAAW/G,EAAOc,iBAClByH,QAAS,WACiB,oBAAbhB,GAAyBA,EAASqB,GAC7Cd,EAAkBe,GAClBjB,GAAY,EACb,EAPH,SASGiB,GARIF,EAFuB,WAkB3C,EC1CcqB,EAjBC,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACjB,OACE,qBAAKlD,UAAW/G,EAAOqB,QAAvB,SACE,mBAAG0F,UAAW/G,EAAOsB,YAArB,SACG2I,EACC,qCACE,sBAAMlD,UAAW/G,EAAOuB,YAAxB,uBACCwI,sBAAW,OAACE,QAAD,IAACA,IAAgBX,qBAAW,SAG1C,MAKT,ECkJcY,EAxJE,SAAC,GAAe,IAAD,IAAZC,EAAY,EAAZA,MACVC,EAAYC,cAAZD,QACR,EAAkC1C,mBAAS,KAA3C,mBAAO4C,EAAP,KAAkBC,EAAlB,KACA,EAAkC7C,mBAASyC,EAAM,GAAGlG,eAApD,mBAAO8E,EAAP,KAAkByB,EAAlB,KACA,EAA8B9C,mBAAS,IAAvC,mBAAOsB,EAAP,KAAgByB,EAAhB,KACA,EAAoC/C,oBAAS,GAA7C,mBAAOgD,EAAP,KAAmBC,EAAnB,KAEMC,EAAqBtB,qBAAWgB,GAAa,KAC7CO,ETb0B,SAACV,GAAD,OAChCA,EAAMW,QAAO,SAACC,EAAMC,GAGlB,OAFAD,EAAKC,EAAK/G,eAAiB+G,EAAKzG,WAChCwG,EAAKC,EAAK7G,eAAiB6G,EAAKxG,WACzBuG,CACR,GAAE,CAAC,EAL4B,CSaRE,CAAmBd,GACrCe,ETP4B,SAACf,EAAOpB,GAAR,OAAsBoB,EACvDgB,QAAO,SAACC,GAAD,OAASA,EAAInH,gBAAkB8E,GAAaqC,EAAIjH,aAAhD,IACP2G,QAAO,SAACC,EAAMC,GAMb,OALIA,EAAK/G,gBAAkB8E,EACzBgC,EAAKC,EAAK7G,eAAiB6G,EAAKxG,WACvBwG,EAAK7G,gBAAkB4E,IAChCgC,EAAKC,EAAK/G,eAAiB+G,EAAKzG,YAE3BwG,CACR,GAAE,CAAC,EAT8B,CSORM,CAAqBlB,EAAOpB,GAChDpF,EAAW,oBTIa,SAACwG,EAAOpB,EAAWC,GACjD,GAAKsC,MAAMC,QAAQpB,IAAWpB,GAAcC,EAE5C,OAAOmB,EAAMqB,MAAK,SAACJ,GAAD,OACfA,EAAInH,gBAAkB8E,GAAaqC,EAAIjH,gBAAkB6E,GACzDoC,EAAIjH,gBAAkB4E,GAAaqC,EAAInH,gBAAkB+E,CAF1C,GAInB,CSXqByC,CAAiBtB,EAAOpB,EAAWC,UAAtC,aAAG,EAA6CtE,eAAhD,QAA2D,GAEtEgH,EAAiB,IAAI7H,IAASrC,EAAgB8B,EAAKpB,UACnDyJ,EAAoB,IAAI9H,IAASkF,EAAW6C,EAAMpI,KAClDqI,EAAmBC,YAAgB/C,EAAWqB,GAC9C2B,EAAiBD,YAAgB9C,EAASoB,GAC1C4B,EAAiBC,YAAkBlD,EAAWqB,EAAS5I,IAAmB8H,qBAAW,KACrF4C,EAAiBtB,EAAmBvB,GAAG2C,GACvCG,EAA0BvB,EAAmBvB,GAAGC,qBAAW,MAC3D8C,EAAmBxB,EAAmByB,IAAnB,OAAuBR,QAAvB,IAAuBA,IAAoBvC,qBAAW,MAG/E,EACEgD,YAAoBX,EAAmB,UAAW,CAChDY,gBAAiB,qBACjBC,yBAA0B,KAHfC,GAAf,EAAQC,MAA+BC,GAAvC,EAAiCC,KAMjC,GACEN,YAAoBZ,EAAgB,2BAA4B,CAC9Da,gBAAiB,2BACjBC,yBAA0B,KAHfK,GAAf,GAAQH,MAA+BI,GAAvC,GAAiCF,KAM3BG,GAAc1H,EAAmBoH,IACjChF,GAAapC,EAAmBwH,IAChCG,IAAcD,IAAeb,EAC7Be,IAAWf,IAAmBzE,IAAc0E,GAA2BC,EAEvEc,GTOyB,SAACT,EAAkBI,GAClD,IAAIxH,EAAmBwH,KAAoBxH,EAAmBoH,GAI9D,OAAIhH,EAAqBoH,GAChB,6BAGLpH,EAAqBgH,GAChB,2BADT,CAKD,CSrBwBU,CAAkBV,GAAkBI,IACrDO,GTVyB,SAACX,EAAkBI,GAClD,IAAIxH,EAAmBoH,KAAqBpH,EAAmBwH,GAI/D,OAAIrH,EAAkBiH,GACb,qBAAuBA,EAAiBY,aAG7C7H,EAAkBqH,GACb,iBAAmBA,EAAiBQ,kBAD7C,CAKD,CSJwBC,CAAkBb,GAAkBI,IA8C3D,OAVAhH,qBAAU,YACLuH,IAAkBF,KACnBK,YAAW,WACT5C,GAAc,GACdJ,EAAa,KACbE,EAAW,GACZ,GAAE,IAEN,GAAE,CAAC2C,GAAgBF,KAGlB,sBAAKnG,UAAU,oCAAf,UACE,sBAAKA,UAAU,OAAf,UACE,cAAC,EAAD,CACEK,MAAOkD,EACPjD,SAhCkB,SAACD,GACzB,IAAMoG,EAAepG,EAAMqG,OAE3B,IACED,GAAgBlE,qBAAWlC,GAC3BmD,EAAanD,EACD,CAAZ,MAAOkB,GAAK,CACf,EA0BOhB,cAAeyB,EACfxB,SAzBkB,SAACH,GACzBoD,EAAapD,EACd,EAwBOI,WAAYqD,EACZpD,WAAYA,IAAc2E,IAE5B,cAAC,EAAD,CAASnC,aAAc4B,OAGzB,sBAAK9E,UAAU,gBAAf,UACE,cAAC,EAAD,CACEgC,UAAWA,EACXC,QAASA,EACTC,SAAU2B,EACV1B,aAAcvF,EACd2D,cAAe0B,EACfzB,SAnCgB,SAACH,GACvBqD,EAAWrD,EACZ,EAkCOI,WAAY0D,IAEd,cAAC,EAAD,CAASjB,aAAc8B,OAGxBG,IAAmBzE,GAClB,wBACEY,UAAW2E,GACXzE,QA1EmB,WACzBoE,GAAgBnL,EAAgBkM,IAAOC,UAAUC,WAClD,EAyEO7G,UAAS,UACPiG,GACI,0BACA,8BAHG,YAILhN,EAAOe,cAPb,SASGgM,GAAc,eAAiB,YAGlC,wBACE1E,UAAW4E,GACX1E,QAjFgB,WACtBuE,GACElC,EACA,EACA,CAAC7B,EAAWC,GACZoB,EACAyD,KAAKC,MAAMC,KAAKC,MAAQ,KAAQ,MAChCC,MAAK,SAACC,GACN3D,EAAa,IACd,GACF,EAwEOxD,UAAS,UACPkG,GAAU,0BAA4B,8BAD/B,YAELjN,EAAOe,cALb,SAOG0G,GACG,cACA2E,EACA,OACA,yBAIPgB,KAAmB1C,EAClB,mBAAG3D,UAAW/G,EAAOgB,QAArB,SAA+BoM,KAC7BF,GACF,mBAAGnG,UAAW/G,EAAOgB,QAArB,SAA+BkM,KAE/B,KAIP,E,kBC9HciB,EAjCM,WACnB,MAAgCzG,mBAAS,IAAzC,mBAAO0G,EAAP,KAAiBC,EAAjB,KAEQC,EAAQC,cAARD,IACR,EAAuDjE,cAA/CD,EAAR,EAAQA,QAASoE,EAAjB,EAAiBA,sBAAuBC,EAAxC,EAAwCA,WAYxC,OAVA5I,qBAAU,WAENwI,EADEC,IAEOlE,EACGsE,YAAetE,GAEf,IAEf,GAAE,CAACA,EAASkE,EAAKD,IAGhB,yBACE9F,QAAS,WACF6B,EAGHqE,IAFAD,GAIH,EACDzH,UAAW/G,EAAOiB,aARpB,UAUgB,KAAbmN,GAAmB,iBACN,KAAbA,GAAmBA,IAGzB,ECecO,EA3CH,WACV,IAAQvE,EAAYC,cAAZD,QACR,EVKsB,WACtB,MAA0CwE,cAAlClN,EAAR,EAAQA,gBAAiBG,EAAzB,EAAyBA,aACzB,EAA8B6F,oBAAS,GAAvC,mBAAOmH,EAAP,KAAgBC,EAAhB,KACA,EAA0BpH,mBAAS,CAAC,GAApC,mBAAOyC,EAAP,KAAc4E,EAAd,KAUA,OARAlJ,qBAAU,WACRS,EAAUzE,EAAaH,IAClBuM,MAAK,SAAC9D,GACL4E,EAAS5E,GACT2E,GAAW,EACZ,GACN,GAAE,CAACjN,EAAcH,IAEX,CAACmN,EAAS1E,EAClB,CUnB+B6E,GAA9B,mBAAOC,EAAP,KAAqB9E,EAArB,KAEA,OACE,qBAAKpD,UAAW/G,EAAOC,UAAvB,SACE,sBAAK8G,UAAW/G,EAAOE,eAAvB,UACE,yBAAQ6G,UAAW/G,EAAOG,OAA1B,UACE,qBACE6G,IAAKkI,EACLhI,IAAI,eACJH,UAAU,6BAEZ,cAAC,EAAD,OAGF,sBAAKA,UAAW/G,EAAOI,kBAAvB,UACE,oBAAI2G,UAAW/G,EAAOK,UAAtB,oBACA,mBAAG0G,UAAW/G,EAAOM,SAArB,wCAEA,qBAAKyG,UAAW/G,EAAOO,mBAAvB,SACE,sBAAKwG,UAAW/G,EAAOQ,YAAvB,UACE,qBAAKuG,UAAU,kBACf,qBAAKA,UAAW/G,EAAOS,SAAvB,SACG2J,EACC6E,EACE,cAAC,EAAD,CAAQnI,MAAM,gCAEd,cAAC,EAAD,CAAUqD,MAAOA,IAGnB,cAAC,EAAD,CAAQrD,MAAM,iCAGlB,qBAAKC,UAAU,8BAO5B,E,OCzCDoI,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACC,EAAA,EAAD,CAAcC,OAAQ9N,EAAtB,SACE,cAAC,EAAD,QAGJ0E,SAASqJ,eAAe,Q","file":"static/js/main.dda91b01.chunk.js","sourcesContent":["const styles = {\r\n  // App.js\r\n  container: \"flex justify-center min-h-screen sm:px-16 px-6 bg-site-black\",\r\n  innerContainer:\r\n    \"flex justify-between items-center flex-col max-w-[1280px] w-full\",\r\n  header: \"flex flex-row justify-between items-center w-full sm:py-10 py-6\",\r\n  exchangeContainer:\r\n    \"flex-1 flex justify-start items-center flex-col w-full mt-10\",\r\n  headTitle: \"text-white font-poppins font-black text-5xl tracking-wide\",\r\n  subTitle: \"text-dim-white font-poppins font-medium mt-3 text-base\",\r\n  exchangeBoxWrapper: \"mt-10 w-full flex justify-center\",\r\n  exchangeBox:\r\n    \"relative md:max-w-[700px] md:min-w-[500px] min-w-full max-w-full gradient-border p-[2px] rounded-3xl\",\r\n  exchange:\r\n    \"w-full min-h-[400px] bg-site-black backdrop-blur-[4px] rounded-3xl shadow-card flex p-10\",\r\n\r\n  // AmountIn & AmountOut\r\n  amountContainer:\r\n    \"flex justify-between items-center flex-row w-full min-w-full bg-site-dim border-[1px] border-transparent hover:border-site-dim2 min-h-[96px] sm:p-8 p-4 rounded-[20px]\",\r\n  amountInput:\r\n    \"w-full flex-1 bg-transparent outline-none font-poppins font-black text-2xl text-white\",\r\n  currencyButton:\r\n    \"flex flex-row items-center bg-site-dim2 py-2 px-4 rounded-xl font-poppins font-bold text-white\",\r\n  currencyList:\r\n    \"absolute z-10 right-0 bg-site-black border-[1px] border-site-dim2 w-full mt-2 rounded-lg min-w-[170px] overflow-hidden\",\r\n  currencyListItem:\r\n    \"font-poppins font-medium text-base text-white hover:text-dim-white px-5 py-3 hover:bg-site-dim2 cursor-pointer\",\r\n\r\n  // Exchange\r\n  actionButton:\r\n    \"border-none outline-none px-6 py-2 font-poppins font-bold text-lg rounded-2xl leading-[24px] transition-all min-h-[56px]\",\r\n  message: \"font-poppins font-lg text-white font-bold mt-7\",\r\n\r\n  // WalletButton\r\n  walletButton:\r\n    \"bg-site-pink border-none outline-none px-6 py-2 font-poppins font-bold text-lg text-white rounded-3xl leading-[24px] hover:bg-pink-600 transition-all\",\r\n\r\n  // loader\r\n  loader: \"flex justify-center items-center flex-col w-full min-h-full\",\r\n  loaderImg: \"w-56 h-56 object-contain\",\r\n  loaderText:\r\n    \"font-poppins font-normal text-dim-white text-lg text-center mt-10\",\r\n\r\n  // balance\r\n  balance: \"w-full text-left mt-2 ml-2\",\r\n  balanceText: \"font-poppins font-normal text-dim-white\",\r\n  balanceBold: \"font-semibold text-white\",\r\n};\r\n\r\nexport default styles;\r\n","import { Goerli } from \"@usedapp/core\";\r\n\r\nexport const ROUTER_ADDRESS = \"0x5948feD6c090eEF5CDd29cbB280346005c093428\";\r\n\r\nexport const DAPP_CONFIG = {\r\n  readOnlyChainId: Goerli.chainId,\r\n  readOnlyUrls: {\r\n    [Goerli.chainId]: \"https://eth-goerli.g.alchemy.com/v2/pLZWVyP4QziH5SC7-TpIQCIJUI961UWb\",\r\n  },\r\n};\r\n","import erc20 from \"./abis/erc20.json\";\r\nimport factory from \"./abis/factory.json\";\r\nimport pair from \"./abis/pair.json\";\r\nimport router01 from \"./abis/router01.json\";\r\nimport router02 from \"./abis/router02.json\";\r\n\r\nexport default {\r\n  erc20,\r\n  factory,\r\n  pair,\r\n  router01,\r\n  router02,\r\n};\r\n","/**\r\n * See all ids below\r\n * https://ethereum.stackexchange.com/questions/17051/how-to-select-a-network-id-or-is-there-a-list-of-network-ids\r\n */\r\nexport const GOERLI_ID = 5;\r\nexport const KOVAN_ID = 42;\r\nexport const MAINNET_ID = 1;\r\nexport const RINKEBY_ID = 4;\r\nexport const ROPSTEN_ID = 3;\r\n\r\nconst commonContracts = {\r\n  factory: \"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f\",\r\n  router01: \"0xf164fC0Ec4E93095b804a4795bBe1e041497b92a\",\r\n  router02: \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\",\r\n};\r\n\r\nexport default {\r\n  [GOERLI_ID]: {\r\n    pairs: {\r\n      \"DAI-WETH\": \"0x8F609d85ebC64316B0B2f9E53c11b4e48B7A06d2\",\r\n    },\r\n    tokens: {\r\n      DAI: \"0x697Ed3E98aaeCFa3121F536251F9D500de159dBa\",\r\n      WETH: \"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6\",\r\n    },\r\n    ...commonContracts,\r\n  },\r\n  [KOVAN_ID]: {\r\n    pairs: {\r\n      \"DAI-WETH\": \"0xB10cf58E08b94480fCb81d341A63295eBb2062C2\",\r\n    },\r\n    tokens: {\r\n      DAI: \"0x4F96Fe3b7A6Cf9725f59d353F723c1bDb64CA6Aa\",\r\n      WETH: \"0xd0A1E359811322d97991E03f863a0C30C2cF029C\",\r\n    },\r\n    ...commonContracts,\r\n  },\r\n  [MAINNET_ID]: {\r\n    pairs: {\r\n      \"BAT-WETH\": \"0xB6909B960DbbE7392D405429eB2b3649752b4838\",\r\n      \"COMP-WETH\": \"0xCFfDdeD873554F362Ac02f8Fb1f02E5ada10516f\",\r\n      \"DAI-WETH\": \"0xA478c2975Ab1Ea89e8196811F51A7B7Ade33eB11\",\r\n      \"LEND-WETH\": \"0xaB3F9bF1D81ddb224a2014e98B238638824bCf20\",\r\n      \"LINK-WETH\": \"0xa2107fa5b38d9bbd2c461d6edf11b11a50f6b974\",\r\n      \"MKR-WETH\": \"0xC2aDdA861F89bBB333c90c492cB837741916A225\",\r\n      \"USDC-WETH\": \"0xB4e16d0168e52d35CaCD2c6185b44281Ec28C9Dc\",\r\n      \"USDC-USDT\": \"0x3041CbD36888bECc7bbCBc0045E3B1f144466f5f\",\r\n      \"WBTC-WETH\": \"0xBb2b8038a1640196FbE3e38816F3e67Cba72D940\",\r\n      \"WETH-AMPL\": \"0xc5be99A02C6857f9Eac67BbCE58DF5572498F40c\",\r\n    },\r\n    tokens: {\r\n      AMPL: \"0xD46bA6D942050d489DBd938a2C909A5d5039A161\",\r\n      BAT: \"0x0D8775F648430679A709E98d2b0Cb6250d2887EF\",\r\n      COMP: \"0xc00e94Cb662C3520282E6f5717214004A7f26888\",\r\n      DAI: \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\r\n      LEND: \"0x80fB784B7eD66730e8b1DBd9820aFD29931aab03\",\r\n      LINK: \"0x514910771AF9Ca656af840dff83E8264EcF986CA\",\r\n      MKR: \"0x9f8F72aA9304c8B593d555F12eF6589cC3A579A2\",\r\n      USDC: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\",\r\n      USDT: \"0xdAC17F958D2ee523a2206206994597C13D831ec7\",\r\n      wBTC: \"0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599\",\r\n      WETH: \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\",\r\n    },\r\n    ...commonContracts,\r\n  },\r\n  [RINKEBY_ID]: {\r\n    pairs: {\r\n      \"DAI-WETH\": \"0x8B22F85d0c844Cf793690F6D9DFE9F11Ddb35449\",\r\n    },\r\n    tokens: {\r\n      DAI: \"0xc7AD46e0b8a400Bb3C915120d284AafbA8fc4735\",\r\n      WETH: \"0xc778417E063141139Fce010982780140Aa0cD5Ab\",\r\n    },\r\n    ...commonContracts,\r\n  },\r\n  [ROPSTEN_ID]: {\r\n    pairs: {\r\n      \"DAI-WETH\": \"0x1c5DEe94a34D795f9EEeF830B68B80e44868d316\",\r\n    },\r\n    tokens: {\r\n      DAI: \"0xaD6D458402F60fD3Bd25163575031ACDce07538D\",\r\n      WETH: \"0xc778417E063141139Fce010982780140Aa0cD5Ab\",\r\n    },\r\n    ...commonContracts,\r\n  },\r\n};\r\n","import { abis } from \"@my-app/contracts\";\r\n\r\nexport async function getPairsInfo(pairAddresses, web3) {\r\n  const pairsInfo = [];\r\n  const pairABI = abis.pair;\r\n  const tokenABI = abis.erc20.abi;\r\n\r\n  for (let i = 0; i < pairAddresses.length; ++i) {\r\n    const pairAddress = pairAddresses[i];\r\n    const pair = new web3.eth.Contract(pairABI, pairAddresses[i]);\r\n\r\n    const token0Address = await pair.methods.token0().call();\r\n    const token1Address = await pair.methods.token1().call();\r\n    const token0Contract = new web3.eth.Contract(tokenABI, token0Address);\r\n    const token1Contract = new web3.eth.Contract(tokenABI, token1Address);\r\n    const token0Name = await token0Contract.methods.name().call();\r\n    const token1Name = await token1Contract.methods.name().call();\r\n\r\n    pairsInfo.push({\r\n      address: pairAddress,\r\n      token0Address,\r\n      token1Address,\r\n      token0Name,\r\n      token1Name\r\n    });\r\n  }\r\n\r\n  return pairsInfo;\r\n}\r\n","import { abis } from \"@my-app/contracts\";\r\nimport { getPairsInfo } from \"./getPairsInfo\";\r\n\r\nexport const getFactoryInfo = async (factoryAddress, web3) => {\r\n  const factory = new web3.eth.Contract(abis.factory, factoryAddress);\r\n\r\n  const factoryInfo = {\r\n    feeTo: await factory.methods.feeTo().call(),\r\n    feeToSetter: await factory.methods.feeToSetter().call(),\r\n    allPairsLength: await factory.methods.allPairsLength().call(),\r\n    allPairs: [],\r\n  };\r\n\r\n  for (let i = 0; i < factoryInfo.allPairsLength; i++) {\r\n    factoryInfo.allPairs[i] = await factory.methods.allPairs(i).call();\r\n  }\r\n\r\n  factoryInfo.pairsInfo = await getPairsInfo(factoryInfo.allPairs, web3);\r\n\r\n  return factoryInfo;\r\n}\r\n","import { abis } from \"@my-app/contracts\";\r\n\r\nexport const getRouterInfo = async (routerAddress, web3) => {\r\n  const router = new web3.eth.Contract(abis.router02, routerAddress);\r\n  \r\n  return {\r\n    factory: await router.methods.factory().call(),\r\n  };\r\n}\r\n","\r\nimport { Contract } from \"@ethersproject/contracts\";\r\nimport { abis } from \"@my-app/contracts\";\r\nimport { useCall } from \"@usedapp/core\";\r\nimport { parseUnits } from \"ethers/lib/utils\";\r\nimport { useEffect } from \"react\";\r\n\r\nimport { ROUTER_ADDRESS } from \"../config\";\r\n\r\nexport const getAvailableTokens = (pools) =>\r\n  pools.reduce((prev, curr) => {\r\n    prev[curr.token0Address] = curr.token0Name;\r\n    prev[curr.token1Address] = curr.token1Name;\r\n    return prev;\r\n  }, {});\r\n\r\nexport const getCounterpartTokens = (pools, fromToken) => pools\r\n  .filter((cur) => cur.token0Address === fromToken || cur.token1Address)\r\n  .reduce((prev, curr) => {\r\n    if (curr.token0Address === fromToken) {\r\n      prev[curr.token1Address] = curr.token1Name;\r\n    } else if (curr.token1Address === fromToken) {\r\n      prev[curr.token0Address] = curr.token0Name;\r\n    }\r\n    return prev;\r\n  }, {});\r\n\r\n\r\nexport const findPoolByTokens = (pools, fromToken, toToken) => {\r\n  if (!Array.isArray(pools) || !fromToken || !toToken) return undefined;\r\n\r\n  return pools.find((cur) =>\r\n    (cur.token0Address === fromToken && cur.token1Address === toToken) ||\r\n    (cur.token1Address === fromToken && cur.token0Address === toToken)\r\n  );\r\n};\r\n\r\nexport const isOperationPending = (operationState) => \r\n  operationState.status === \"PendingSignature\" || operationState.status === \"Mining\";\r\nexport const isOperationFailed = (operationState) =>\r\noperationState.status === \"Fail\" || operationState.status === \"Exception\";\r\nexport const isOperationSucceeded = (operationState) =>\r\noperationState.status === \"Success\";\r\n\r\nexport const getFailureMessage = (swapApproveState, swapExecuteState) => {\r\n  if (isOperationPending(swapApproveState) || isOperationPending(swapExecuteState)) {\r\n    return undefined;\r\n  }\r\n\r\n  if (isOperationFailed(swapApproveState)) {\r\n    return \"Approval failed - \" + swapApproveState.errorMessage;\r\n  }\r\n\r\n  if (isOperationFailed(swapExecuteState)) {\r\n    return \"Swap failed - \" + swapExecuteState.errorMessage;\r\n  }\r\n\r\n  return undefined;\r\n};\r\n\r\nexport const getSuccessMessage = (swapApproveState, swapExecuteState) => {\r\n  if (isOperationPending(swapExecuteState) ||isOperationPending(swapApproveState)) {\r\n    return undefined;\r\n  }\r\n\r\n  if (isOperationSucceeded(swapExecuteState)) {\r\n    return \"Swap executed successfully\";\r\n  }\r\n\r\n  if (isOperationSucceeded(swapApproveState)) {\r\n    return \"Approval successful\";\r\n  }\r\n\r\n  return undefined;\r\n};\r\n\r\nexport const useAmountsOut = (pairAddress, amountIn, fromToken, toToken) => {\r\n  const isValidAmountIn = amountIn.gt(parseUnits(\"0\"));\r\n  const areParamsValid = !!(pairAddress && isValidAmountIn && fromToken && toToken);\r\n\r\n  const { error, value } =\r\n    useCall(\r\n      areParamsValid && {\r\n        contract: new Contract(ROUTER_ADDRESS, abis.router02),\r\n        method: \"getAmountsOut\",\r\n        args: [amountIn, [fromToken, toToken]],\r\n      }\r\n    ) ?? {};\r\n  return error ? parseUnits(\"0\") : value?.amounts[1];\r\n}\r\n\r\nexport const useOnClickOutside = (ref, handler) => {\r\n  useEffect(() => {\r\n    const listener = (event) => {\r\n      // Do nothing if clicking ref's element or descendent elements\r\n      if (!ref.current || ref.current.contains(event.target)) {\r\n        return;\r\n      }\r\n      handler(event);\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", listener);\r\n    document.addEventListener(\"touchstart\", listener);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", listener);\r\n      document.removeEventListener(\"touchstart\", listener);\r\n    };\r\n  }, [ref, handler]);\r\n}","import Web3 from \"web3\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useConfig } from \"@usedapp/core\";\r\n\r\nimport { ROUTER_ADDRESS } from \"../config\";\r\nimport { getFactoryInfo, getRouterInfo } from \"../utils\";\r\n\r\nexport const loadPools = async (providerUrl) => {\r\n  const provider = new Web3.providers.HttpProvider(providerUrl);\r\n  const web3 = new Web3(provider);\r\n  const routerInfo = await getRouterInfo(ROUTER_ADDRESS, web3);\r\n  const factoryInfo = await getFactoryInfo(routerInfo.factory, web3);\r\n  return factoryInfo.pairsInfo;\r\n}\r\n\r\nexport const usePools = () => {\r\n  const { readOnlyChainId, readOnlyUrls } = useConfig();\r\n  const [loading, setLoading] = useState(true);\r\n  const [pools, setPools] = useState({});\r\n\r\n  useEffect(() => {\r\n    loadPools(readOnlyUrls[readOnlyChainId])\r\n        .then((pools) => {\r\n          setPools(pools);\r\n          setLoading(false);\r\n        });\r\n  }, [readOnlyUrls, readOnlyChainId]);\r\n\r\n  return [loading, pools];\r\n}\r\n","export default __webpack_public_path__ + \"static/media/chevron-down.371c0b7e.svg\";","export default __webpack_public_path__ + \"static/media/ethereumLogo.a1b9f99b.png\";","export default __webpack_public_path__ + \"static/media/uniswapLogo.b1166848.png\";","import React from \"react\";\r\n\r\nimport styles from \"../styles\";\r\nimport { ethereumLogo } from \"../assets\";\r\n\r\nconst Loader = ({ title }) => {\r\n  return (\r\n    <div className={styles.loader}>\r\n      <img\r\n        src={ethereumLogo}\r\n        alt=\"ethereum logo\"\r\n        className={styles.loaderImg}\r\n      />\r\n      <p className={styles.loaderText}>{title}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport { chevronDown } from \"../assets\";\r\nimport { useOnClickOutside } from \"../utils\";\r\nimport styles from \"../styles\";\r\n\r\nconst AmountIn = ({ value, onChange, currencyValue, onSelect, currencies, isSwapping }) => {\r\n  const [showList, setShowList] = useState(false);\r\n  const [activeCurrency, setActiveCurrency] = useState(\"Select\");\r\n  const ref = useRef()\r\n\r\n  useOnClickOutside(ref, () => setShowList(false))\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(currencies).includes(currencyValue))\r\n      setActiveCurrency(currencies[currencyValue]);\r\n    else setActiveCurrency(\"Select\");\r\n  }, [currencies, currencyValue]);\r\n\r\n  return (\r\n    <div className={styles.amountContainer}>\r\n      <input\r\n        placeholder=\"0.0\"\r\n        type=\"number\"\r\n        value={value}\r\n        disabled={isSwapping}\r\n        onChange={(e) => typeof onChange === \"function\" && onChange(e.target.value)}\r\n        className={styles.amountInput}\r\n      />\r\n\r\n      <div className=\"relative\" onClick={() => setShowList(!showList)}>\r\n        <button className={styles.currencyButton}>\r\n          {activeCurrency}\r\n          <img\r\n            src={chevronDown}\r\n            alt=\"cheveron-down\"\r\n            className={`w-4 h-4 object-contain ml-2 ${\r\n              showList ? \"rotate-180\" : \"rotate-0\"\r\n            }`}\r\n          />\r\n        </button>\r\n\r\n        {showList && (\r\n          <ul ref={ref} className={styles.currencyList}>\r\n            {Object.entries(currencies).map(([token, tokenName], index) => (\r\n              <li\r\n                key={index}\r\n                className={`${styles.currencyListItem} ${\r\n                  activeCurrency === tokenName ? \"bg-site-dim2\" : \"\"\r\n                } cursor-pointer`}\r\n                onClick={() => {\r\n                  if (typeof onSelect === \"function\") onSelect(token);\r\n                  setActiveCurrency(tokenName);\r\n                  setShowList(false);\r\n                }}\r\n              >\r\n                {tokenName}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AmountIn;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { formatUnits } from \"ethers/lib/utils\";\r\n\r\nimport { chevronDown } from \"../assets\";\r\nimport { useAmountsOut, useOnClickOutside } from \"../utils\";\r\nimport styles from \"../styles\";\r\n\r\nconst AmountOut = ({ fromToken, toToken, amountIn, pairContract, currencyValue, onSelect, currencies }) => {\r\n  const [showList, setShowList] = useState(false);\r\n  const [activeCurrency, setActiveCurrency] = useState(\"Select\");\r\n  const ref = useRef()\r\n\r\n  const amountOut = useAmountsOut(pairContract, amountIn, fromToken, toToken) ?? 0;\r\n\r\n  useOnClickOutside(ref, () => setShowList(false))\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(currencies).includes(currencyValue)) {\r\n      setActiveCurrency(currencies[currencyValue]);\r\n    } else {\r\n      setActiveCurrency(\"Select\")\r\n    }\r\n  }, [currencyValue, currencies]);\r\n\r\n  return (\r\n    <div className={styles.amountContainer}>\r\n      <input\r\n        placeholder=\"0.0\"\r\n        type=\"number\"\r\n        value={formatUnits(amountOut)}\r\n        className={styles.amountInput}\r\n        disabled\r\n      />\r\n\r\n      <div className=\"relative\" onClick={() => setShowList(!showList)}>\r\n        <button className={styles.currencyButton}>\r\n          {activeCurrency}\r\n          <img\r\n            src={chevronDown}\r\n            alt=\"cheveron-down\"\r\n            className={`w-4 h-4 object-contain ml-2 ${showList ? \"rotate-180\" : \"rotate-0\"}`}\r\n          />\r\n        </button>\r\n\r\n        {showList && (\r\n          <ul ref={ref} className={styles.currencyList}>\r\n            {Object.entries(currencies).map(([token, tokenName], index) => (\r\n              <li\r\n                key={index}\r\n                className={styles.currencyListItem}\r\n                onClick={() => {\r\n                  if (typeof onSelect === \"function\") onSelect(token);\r\n                  setActiveCurrency(tokenName);\r\n                  setShowList(false);\r\n                }}\r\n              >\r\n                {tokenName}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AmountOut;\r\n","import React from \"react\";\r\nimport { formatUnits, parseUnits } from \"ethers/lib/utils\";\r\n\r\nimport styles from \"../styles\";\r\n\r\nconst Balance = ({ tokenBalance }) => {\r\n  return (\r\n    <div className={styles.balance}>\r\n      <p className={styles.balanceText}>\r\n        {tokenBalance ? (\r\n          <>\r\n            <span className={styles.balanceBold}>Balance: </span>\r\n            {formatUnits(tokenBalance ?? parseUnits(\"0\"))}\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Balance;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Contract } from \"@ethersproject/contracts\";\r\nimport { abis } from \"@my-app/contracts\";\r\nimport { ERC20, useContractFunction, useEthers, useTokenAllowance, useTokenBalance } from \"@usedapp/core\";\r\nimport { ethers } from \"ethers\";\r\nimport { parseUnits } from \"ethers/lib/utils\";\r\n\r\nimport  { getAvailableTokens, getCounterpartTokens, findPoolByTokens, isOperationPending, getFailureMessage, getSuccessMessage } from '../utils';\r\nimport { ROUTER_ADDRESS } from \"../config\";\r\nimport AmountIn from \"./AmountIn\";\r\nimport AmountOut from \"./AmountOut\";\r\nimport Balance from \"./Balance\";\r\nimport styles from \"../styles\";\r\n\r\nconst Exchange = ({ pools }) => {\r\n  const { account } = useEthers();\r\n  const [fromValue, setFromValue] = useState(\"0\");\r\n  const [fromToken, setFromToken] = useState(pools[0].token0Address); // initialFromToken\r\n  const [toToken, setToToken] = useState(\"\");\r\n  const [resetState, setResetState] = useState(false)\r\n\r\n  const fromValueBigNumber = parseUnits(fromValue || \"0\"); // converse the string to bigNumber\r\n  const availableTokens = getAvailableTokens(pools);\r\n  const counterpartTokens = getCounterpartTokens(pools, fromToken);\r\n  const pairAddress = findPoolByTokens(pools, fromToken, toToken)?.address ?? \"\";\r\n\r\n  const routerContract = new Contract(ROUTER_ADDRESS, abis.router02);\r\n  const fromTokenContract = new Contract(fromToken, ERC20.abi);\r\n  const fromTokenBalance = useTokenBalance(fromToken, account);\r\n  const toTokenBalance = useTokenBalance(toToken, account);\r\n  const tokenAllowance = useTokenAllowance(fromToken, account, ROUTER_ADDRESS) || parseUnits(\"0\");\r\n  const approvedNeeded = fromValueBigNumber.gt(tokenAllowance);\r\n  const formValueIsGreaterThan0 = fromValueBigNumber.gt(parseUnits(\"0\"));\r\n  const hasEnoughBalance = fromValueBigNumber.lte(fromTokenBalance ?? parseUnits(\"0\"));\r\n\r\n  // approve initiating a contract call (similar to use state) -> gives the state and the sender...\r\n  const { state: swapApproveState, send: swapApproveSend } =\r\n    useContractFunction(fromTokenContract, \"approve\", {\r\n      transactionName: \"onApproveRequested\",\r\n      gasLimitBufferPercentage: 10,\r\n    });\r\n  // swap initiating a contract call (similar to use state) -> gives the state and the sender...\r\n  const { state: swapExecuteState, send: swapExecuteSend } =\r\n    useContractFunction(routerContract, \"swapExactTokensForTokens\", {\r\n      transactionName: \"swapExactTokensForTokens\",\r\n      gasLimitBufferPercentage: 10,\r\n    });\r\n\r\n  const isApproving = isOperationPending(swapApproveState);\r\n  const isSwapping = isOperationPending(swapExecuteState);\r\n  const canApprove = !isApproving && approvedNeeded;\r\n  const canSwap = !approvedNeeded && !isSwapping && formValueIsGreaterThan0 && hasEnoughBalance;\r\n\r\n  const successMessage = getSuccessMessage(swapApproveState, swapExecuteState);\r\n  const failureMessage = getFailureMessage(swapApproveState, swapExecuteState);\r\n\r\n  const onApproveRequested = () => {\r\n    swapApproveSend(ROUTER_ADDRESS, ethers.constants.MaxUint256);\r\n  };\r\n\r\n  // https://docs.uniswap.org/protocol/V2/reference/smart-contracts/router-02#swapexacttokensfortokens\r\n  const onSwapRequested = () => {\r\n    swapExecuteSend(\r\n      fromValueBigNumber,\r\n      0,\r\n      [fromToken, toToken],\r\n      account,\r\n      Math.floor(Date.now() / 1000) + 60 * 20\r\n    ).then((_) => {\r\n      setFromValue(\"0\");\r\n    });\r\n  };\r\n\r\n  const onFromValueChange = (value) => {\r\n    const trimmedValue = value.trim();\r\n\r\n    try {\r\n      trimmedValue && parseUnits(value);\r\n      setFromValue(value);\r\n    } catch (e) {}\r\n  };\r\n\r\n  const onFromTokenChange = (value) => {\r\n    setFromToken(value);\r\n  };\r\n\r\n  const onToTokenChange = (value) => {\r\n    setToToken(value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if(failureMessage || successMessage) {\r\n      setTimeout(() => {\r\n        setResetState(true)\r\n        setFromValue(\"0\")\r\n        setToToken(\"\")\r\n      }, 5000)\r\n    }\r\n  }, [failureMessage, successMessage])\r\n\r\n  return (\r\n    <div className=\"flex flex-col w-full items-center\">\r\n      <div className=\"mb-8\">\r\n        <AmountIn\r\n          value={fromValue}\r\n          onChange={onFromValueChange}\r\n          currencyValue={fromToken}\r\n          onSelect={onFromTokenChange}\r\n          currencies={availableTokens}\r\n          isSwapping={isSwapping && hasEnoughBalance}\r\n        />\r\n        <Balance tokenBalance={fromTokenBalance} />\r\n      </div>\r\n\r\n      <div className=\"mb-8 w-[100%]\">\r\n        <AmountOut\r\n          fromToken={fromToken}\r\n          toToken={toToken}\r\n          amountIn={fromValueBigNumber}\r\n          pairContract={pairAddress}\r\n          currencyValue={toToken}\r\n          onSelect={onToTokenChange}\r\n          currencies={counterpartTokens}\r\n        />\r\n        <Balance tokenBalance={toTokenBalance} />\r\n      </div>\r\n\r\n      {approvedNeeded && !isSwapping ? (\r\n        <button\r\n          disabled={!canApprove}\r\n          onClick={onApproveRequested}\r\n          className={`${\r\n            canApprove\r\n              ? \"bg-site-pink text-white\"\r\n              : \"bg-site-dim2 text-site-dim2\"\r\n          } ${styles.actionButton}`}\r\n        >\r\n          {isApproving ? \"Approving...\" : \"Approve\"}\r\n        </button>\r\n      ) : (\r\n        <button\r\n          disabled={!canSwap}\r\n          onClick={onSwapRequested}\r\n          className={`${\r\n            canSwap ? \"bg-site-pink text-white\" : \"bg-site-dim2 text-site-dim2\"\r\n          } ${styles.actionButton}`}\r\n        >\r\n          {isSwapping\r\n            ? \"Swapping...\"\r\n            : hasEnoughBalance\r\n            ? \"Swap\"\r\n            : \"Insufficient balance\"}\r\n        </button>\r\n      )}\r\n\r\n      {failureMessage && !resetState ? (\r\n        <p className={styles.message}>{failureMessage}</p>\r\n      ) : successMessage ? (\r\n        <p className={styles.message}>{successMessage}</p>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Exchange;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { shortenAddress, useEthers, useLookupAddress } from \"@usedapp/core\";\r\n\r\nimport styles from \"../styles\";\r\n\r\nconst WalletButton = () => {\r\n  const [rendered, setRendered] = useState(\"\");\r\n\r\n  const { ens } = useLookupAddress();\r\n  const { account, activateBrowserWallet, deactivate } = useEthers();\r\n\r\n  useEffect(() => {\r\n    if (ens) {\r\n      setRendered(ens);\r\n    } else if (account) {\r\n      setRendered(shortenAddress(account));\r\n    } else {\r\n      setRendered(\"\");\r\n    }\r\n  }, [account, ens, setRendered]);\r\n\r\n  return (\r\n    <button\r\n      onClick={() => {\r\n        if (!account) {\r\n          activateBrowserWallet();\r\n        } else {\r\n          deactivate();\r\n        }\r\n      }}\r\n      className={styles.walletButton}\r\n    >\r\n      {rendered === \"\" && \"Connect Wallet\"}\r\n      {rendered !== \"\" && rendered}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default WalletButton;\r\n","import React from \"react\";\r\nimport { useEthers } from \"@usedapp/core\";\r\n\r\nimport styles from \"./styles\";\r\nimport { usePools } from \"./hooks\";\r\nimport { uniswapLogo } from \"./assets\";\r\nimport { Exchange, Loader, WalletButton } from \"./components\";\r\n\r\nconst App = () => {\r\n  const { account } = useEthers();\r\n  const [poolsLoading, pools] = usePools();\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <div className={styles.innerContainer}>\r\n        <header className={styles.header}>\r\n          <img\r\n            src={uniswapLogo}\r\n            alt=\"uniswap-logo\"\r\n            className=\"w-16 h-16 object-contain\"\r\n          />\r\n          <WalletButton />\r\n        </header>\r\n\r\n        <div className={styles.exchangeContainer}>\r\n          <h1 className={styles.headTitle}>My DEX</h1>\r\n          <p className={styles.subTitle}>Exchange tokens in seconds</p>\r\n\r\n          <div className={styles.exchangeBoxWrapper}>\r\n            <div className={styles.exchangeBox}>\r\n              <div className=\"pink_gradient\" />\r\n              <div className={styles.exchange}>\r\n                {account ? (\r\n                  poolsLoading ? (\r\n                    <Loader title=\"Loading pools, please wait!\" />\r\n                  ) : (\r\n                    <Exchange pools={pools} />\r\n                  )\r\n                ) : (\r\n                  <Loader title=\"Please connect your wallet\" />\r\n                )}\r\n              </div>\r\n              <div className=\"blue_gradient\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { DAppProvider } from \"@usedapp/core\";\r\n\r\nimport App from \"./App\";\r\nimport { DAPP_CONFIG } from \"./config\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <DAppProvider config={DAPP_CONFIG}>\r\n      <App />\r\n    </DAppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);"],"sourceRoot":""}